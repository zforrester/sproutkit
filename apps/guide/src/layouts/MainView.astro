---
import Body from '../layouts/Body.astro'
import ArticleNav from '@src/components/ArticleNav.astro'
import TopNav from '@src/components/TopNav.astro'
import SkipToContent from '@src/components/SkipToContent.astro'

export interface Props {
  title?: string
}

const { frontmatter, content } = Astro.props
---

<Body title={frontmatter?.title}>
  <SkipToContent />
  <TopNav />

  <main>
    <ArticleNav />
    <slot />
  </main>
</Body>

<style lang='scss'>
  main {
    flex-grow: 1;
    display: flex;
    min-width: 0;
    flex-shrink: 1;
    // flex-wrap: wrap;
    // min-height: 100%;
    // position: relative;
    // isolation: isolate;
    // overflow: auto;
    // @include debug;
    min-height: 0;
    // height: 0;
    flex-grow: 1;
    align-self: flex-start;
    @include debug;

    // max-height: calc(100% - 64px);

    &::after {
      content: '';
      position: absolute;
      height: 200px;
      left: 0;
      right: 0;
      background-color: white;
      bottom: 100%;
    }

    > nav {
      position: sticky;
      top: 0;
    }
  }
</style>
