---
import Body from '../layouts/Body.astro'
import MainNav from '@src/components/MainNav.astro'
import TopNav from '@src/components/TopNav.astro'
import SkipToContent from '@src/components/SkipToContent.astro'

export interface Props {
  title?: string
}

const { frontmatter, content } = Astro.props
---

<Body title={frontmatter?.title}>
  <SkipToContent />
  <TopNav />

  <main>
    <MainNav />
    <slot />
  </main>

  <div class='background-colors'></div>
</Body>

<style lang='scss'>
  main {
    flex-grow: 1;
    display: flex;
    min-width: 0;
    max-width: 100%;
    flex-grow: 1;
    align-self: flex-start;
    height: 100%;
    min-height: 0;
    background-color: color('cool-gray-100');

    // max-height: calc(100% - 64px);

    &::after {
      content: '';
      position: absolute;
      height: 200px;
      left: 0;
      right: 0;
      background-color: white;
      bottom: 100%;
    }

    > nav {
      position: sticky;
      top: 0;
      min-height: 0;
    }
  }

  .background-colors {
    position: fixed;
    pointer-events: none;
    @include coordinates;
    background: radial-gradient(ellipse farthest-corner at 50% 50%, color('white', 1) 50%, color('cool-gray-50', 0) 150%), radial-gradient(ellipse at 60% -50%, color('yellow-200', 1), color('fushia-200', 0)),
      radial-gradient(ellipse at 120% 60%, color('fushia-200', 1), color('fushia-200', 0)), radial-gradient(ellipse at 50% 120%, color('blue-400', 0.4), color('blue-400', 0.4));
    opacity: 0;
    // mix-blend-mode: multiply;
    z-index: 0;
  }
</style>
